<<<<<<< HEAD
ï»¿
//12346
=======
//123132
>>>>>>> dev

#include "func.h"
#include<stdio.h>
#include<stdlib.h>
#include<string.h>


/********************************************************************
<<<<<<< HEAD
*ç™»å½•åˆ°æœåŠ¡å™¨
=======
*¿¿¿¿¿¿
>>>>>>> dev
********************************************************************/
SOCKET  connectToServer()
{
	WSADATA wsaData;
<<<<<<< HEAD
	SOCKET sockClient;			//å®¢æˆ·ç«¯Socket
	SOCKADDR_IN addrServer;		//æœåŠ¡ç«¯åœ°å€
	WSAStartup(MAKEWORD(2, 2), &wsaData);

	sockClient = socket(AF_INET, SOCK_STREAM, 0);	//æ–°å»ºå®¢æˆ·ç«¯socket

	//å®šä¹‰è¦è¿æ¥çš„æœåŠ¡ç«¯åœ°å€
	addrServer.sin_addr.S_un.S_addr = inet_addr("192.168.1.53"); 
	addrServer.sin_family = AF_INET;
	addrServer.sin_port = htons(10002);		//è¿æ¥ç«¯å£10002

	//è¿æ¥åˆ°æœåŠ¡ç«¯
	connect(sockClient, (SOCKADDR*)&addrServer, sizeof(SOCKADDR));

	return sockClient;
}

/************************************************************************/
/* éå†ç”¨æˆ·ä¿¡æ¯åˆ¤æ–­éå­—æ¯éæ•°å­—                                                                     */
/************************************************************************/
int travUserMesg(char *userMessage)    //éå†ç”¨æˆ·ä¿¡æ¯
{
	if (userMessage == NULL)
	{
		printf("ç”¨æˆ·ä¿¡æ¯æŒ‡é’ˆä¸ºç©ºï¼\n");
		
		return -1;
	}

	while (*userMessage != '\0')							//éå†ç”¨æˆ·å
	{
		if (isalpha(*userMessage) || isdigit(*userMessage)) //åˆ¤æ–­å­—æ¯å’Œæ•°å­—
		{
			userMessage++;
		}
		else
		{
			//system("cls");
			printf("ç”¨æˆ·ä¿¡æ¯ä»…é™äºçº¯æ•°å­—ã€çº¯å­—æ¯æˆ–ä¸¤è€…ç»„åˆ!");
			return -1;
		}
	}
	return 1;
}

/*è¿™æ®µä»£ç ç”±äºå‡ºç°é€’å½’çš„ä½æ•ˆç‡è¢«èˆå¼ƒ
void judgeUserMessageOverEight(int userMessageLen)
{
	int choose = 0;
	int length = userMessageLen;
	if (length > 8)
	{
		printf("\næ‚¨è¾“å…¥çš„ä¿¡æ¯æœ‰è¯¯ï¼è¶…è¿‡8ä½ï¼\n");
		printf("\nè¯·é€‰æ‹©ï¼šæŒ‰1è¿”å›ä¸»ç•Œé¢ã€‚æŒ‰ä»»æ„é”®é€€å‡ºï¼");
		fflush(stdin);
		scanf("%d", &choose);
		fflush(stdin);
		if (choose == 1)
		{
			system("cls");
			logToSystem();
		}
		else
		{
			exit(0);
		}
	}
}
*/

/********************************************************************
*åˆå§‹åŒ–ç»™æœåŠ¡å‘é€æ¶ˆæ¯çš„ç»“æ„ä½“
********************************************************************/
void initStruct(logM * plogM)
{
	memset(plogM->headFlag, 0, sizeof(plogM->headFlag));
	memset(plogM->userMessage, 0, sizeof(plogM->userMessage));
}
/************************************************************************/
/* åˆå§‹åŒ–ç”¨æˆ·æ‰€æœ‰ä¿¡æ¯ç»“æ„ä½“                                                                     */
/************************************************************************/
void initUserALLMsgStruct(userMsg * pUserMsg)
{
	memset(pUserMsg->userName, 0, sizeof(pUserMsg->userName));
	memset(pUserMsg->del, 0, sizeof(pUserMsg->del));

	memset(pUserMsg->mail, 0, sizeof(pUserMsg->mail));
	memset(pUserMsg->job, 0, sizeof(pUserMsg->job));
	memset(pUserMsg->createPerson, 0, sizeof(pUserMsg->createPerson));
	memset(pUserMsg->createTime, 0, sizeof(pUserMsg->createTime));
	memset(pUserMsg->role, 0, sizeof(pUserMsg->role));
	memset(pUserMsg->password, 0, sizeof(pUserMsg->password));
}
/************************************************************************/
/* å¤„ç†æœåŠ¡å™¨è¿”å›çš„headflagä¿¡æ¯ï¼Œæ ¹æ®è¿”å›æ¶ˆæ¯ç¡®è®¤å¤„ç†æ–¹æ³•                              */
/************************************************************************/
void processServerReMsg(logM *receiveServerMsg, SOCKET sockClient)
{
	logM *pSend = receiveServerMsg;
	SOCKET sok = sockClient;

	if (1 == pSend->headFlag[0])  //åˆ¤æ–­æœåŠ¡å™¨ä¼ å›æ¶ˆæ¯
	{
		system("cls");
		//system("color 5d");
		printf("\n\n\n\n               ç™»å½•æˆåŠŸâ€¦â€¦");
		Sleep(2000);
		system("cls");

		int choose = -1;       //ç™»é™†æˆåŠŸä¹‹åè°ƒç”¨ç³»ç»Ÿç®¡ç†èœå•çš„æ‰€æœ‰åŠŸèƒ½
		while (choose)			//å¾ªç¯ç”¨æˆ·é€‰æ‹© 1.ç”¨æˆ·ç®¡ç†  2.è§’è‰²ç®¡ç†  3.æƒé™ç®¡ç† 
		{
			manageMenu();
			fflush(stdin);
			printf("\n------------------------------------------------------------------------\n");
			printf("è¯·é€‰æ‹©åŠŸèƒ½:");
			scanf("%d", &choose);
			if (getchar() != '\n')
			{
				printf("------------------------------------------------------------------------\n");
				printf("è¯·é‡æ–°è¾“å…¥ä¸‹åˆ—é€‰é¡¹ç¼–å·ï¼š\n");
				continue;
			}
			system("cls");
			if (choose == 1)		//ç”¨æˆ·ç®¡ç†
			{
				userManage(sok);
			}
		
			else if (2 == choose)   //è§’è‰²ç®¡ç†
			{
				roleManage(sok);
			}

			else if (3 == choose)
			{
				permissionManage(sok);
			}
			else if (0 != choose)
			{
				printf("------------------------------------------------------------------------\n");
				printf("è¯·é‡æ–°è¾“å…¥ä¸‹åˆ—é€‰é¡¹ç¼–å·ï¼š\n");
			}
			}
		}
	else  //æœåŠ¡å™¨ä¼ å›æ¶ˆæ¯å¤±è´¥
	{
		printf("------------------------------------------------------------------------\n");
		printf("\nç™»å½•å¤±è´¥ï¼");
		Sleep(2000);
		exit(0);
	}
}


////////////////////////////////ç”¨æˆ·ç®¡ç†//////////////////////////////////
void addUser(SOCKET sockClient)
{
	SOCKET sok = sockClient;
	userMsg *pUserMsg = (userMsg *)calloc(1, sizeof(userMsg));
	char *allMsg = (char *)calloc(1024, sizeof(char));

	logM *pRe = (logM *)calloc(1, sizeof(logM));		
	//ç™»é™†ä¹‹åæœåŠ¡å™¨è¿”å›ç»™å®¢æˆ·ç«¯headflag[1]=1;ç»™æœåŠ¡å™¨å‘é€å¢åŠ çš„ç”¨æˆ·çš„ä¿¡æ¯

	logM *pFromServer = (logM *)calloc(1, sizeof(logM)); //ä¸´æ—¶å˜é‡ï¼Œæ¥å—æœåŠ¡å™¨è¿”å›çš„ç”¨æˆ·æ·»åŠ æˆåŠŸä¸å¦ä¿¡æ¯

	char *pum = NULL;
	initUserALLMsgStruct(pUserMsg);

	pRe->headFlag[0] = 2;	//ç”¨æˆ·ç®¡ç†
	pRe->headFlag[1] = 1;	//å¢åŠ ç”¨æˆ·çš„æ ‡å¿—
	while (1)
	{
		printf("\n------------------------------------------------------------------------");
		printf("\n       è¯·è¾“å…¥ç”¨æˆ·å:");
		scanf("%s", pUserMsg->userName);
		pum = pUserMsg->userName;
		if (1 == travUserMesg(pum))
		{
			strcat(allMsg, pUserMsg->userName);
			strcat(allMsg, ":");
			break;
		}
		else
		{
			printf("\n------------------------------------------------------------------------\n");
			printf("è¾“å…¥æ ¼å¼ä¸å¯¹ï¼Œè¯·é‡æ–°è¾“å…¥ï¼š\n");
		}
		
		system("cls");
	}
	int index;
	while (1)
	{
		printf("\n       è¯·è¾“å…¥ç”µè¯:");
		scanf("%s", pUserMsg->del);
		if (strlen(pUserMsg->del) == 11)
		{
			for (index = 0; index < 11; index++)
			{
				if (isdigit(pUserMsg->del[index]))
				{
					;
				}
				else
				{
					break;
				}
			}
			if (index == 11)
			{
				strcat(allMsg, pUserMsg->del);
				strcat(allMsg, ":");
				break;
			}
			else
			{
				printf("è¾“å…¥æ ¼å¼ä¸å¯¹ï¼Œè¯·é‡æ–°è¾“å…¥ï¼š\n");
			}
		}
		else
		{
			printf("è¾“å…¥æ ¼å¼ä¸å¯¹ï¼Œè¯·é‡æ–°è¾“å…¥ï¼š\n");
		}
		
		system("cls");
	}
	
	while (1)
	{
		printf("\n       è¯·è¾“å…¥é‚®ç®±:");
		scanf("%s", pUserMsg->mail);
		char *p = strstr(pUserMsg->mail, "@");
		if (p)
		{
			char *tmp = pUserMsg->mail + strlen(pUserMsg->mail) - 4;
			if (strncmp(tmp, ".com", 4) == 0)
			{
				strcat(allMsg, pUserMsg->mail);
				strcat(allMsg, ":");
				break;
			}
		}
		else
		{
			printf("è¾“å…¥æ ¼å¼ä¸å¯¹ï¼Œè¯·é‡æ–°è¾“å…¥ï¼š\n");
		}
		system("cls");
	}
	while (1)
	{
		printf("\n       è¯·è¾“å…¥èŒä½:");
		scanf("%s", pUserMsg->job);
		int length = strlen(pUserMsg->job);
		if (length > 0 && length < 20)
		{
			for (index = 0; index < length; index++)
			{
				if (!isalpha(pUserMsg->job[index]))
				{
					break;
				}
			}
			if (index == length)
			{
				strcat(allMsg, pUserMsg->job);
				strcat(allMsg, ":");
				break;
			}
		}
		else
		{
			printf("è¾“å…¥æ ¼å¼ä¸å¯¹ï¼Œè¯·é‡æ–°è¾“å…¥ï¼š\n");
		}
		
		system("cls");
	}
	

	printf("\n       è¯·è¾“å…¥åˆ›å»ºè€…:");
	scanf("%s", pUserMsg->createPerson);

	strcat(allMsg, pUserMsg->createPerson);
	strcat(allMsg, ":");
	system("cls");

	printf("\n       è¯·è¾“å…¥åˆ›å»ºæ—¶é—´:");
	scanf("%s", pUserMsg->createTime);

	strcat(allMsg, pUserMsg->createTime);
	strcat(allMsg, ":");
	system("cls");

	listExistRole(sok);
	printf("\n       è¯·è¾“å…¥è§’è‰²:");
	fflush(stdin);
	scanf("%s", pUserMsg->role);

	strcat(allMsg, pUserMsg->role);
	strcat(allMsg, ":");
	system("cls");

	printf("\n        è¯·è¾“å…¥å¯†ç :");
	scanf("%s", pUserMsg->password);
	pum = pUserMsg->password;
	travUserMesg(pum);
	strcat(allMsg, pUserMsg->password);
	system("cls");

	strcpy(pRe->userMessage, allMsg);

	//printf("\nå‘é€ç”¨æˆ·ä¿¡æ¯ç¡®è®¤\nå¢åŠ ç”¨æˆ·æ ‡è¯†ï¼šheadFlag[1]:%d\nç”¨æˆ·ä¿¡æ¯ï¼š%s\n", pRe->headFlag[1], pRe->userMessage);
	send(sockClient, (char *)pRe, sizeof(*pRe), 0);			//å‘é€æ•°æ®

	recv(sockClient, (char *)pFromServer, sizeof(*pFromServer), 0);			//æ¥å—æœåŠ¡å™¨è¿”å›çš„æ•°æ®
	//printf("received server :%d %s\n", pFromServer->headFlag[1], pFromServer->userMessage);

	if (1 == pFromServer->headFlag[1])
	{
		printf("\n\n------------------------------------------------------------------------\n");
		printf("--æ·»åŠ ç”¨æˆ·æˆåŠŸ!å›è½¦é”®è¿”å›èœå•\n");
		getchar();
		getchar();
		system("cls");
	}
	else
	{
		printf("\n\n------------------------------------------------------------------------\n");
		printf("â– --æ·»åŠ ç”¨æˆ·å¤±è´¥ï¼è¯·æ£€æŸ¥æ‚¨çš„è¾“å…¥ï¼Œé‡æ–°æ·»åŠ ï¼\nå›è½¦é”®è¿”å›èœå•ã€‚");
		getchar();
		getchar();
		system("cls");
	}

	free(pUserMsg);
	free(allMsg);
	free(pRe);
	free(pFromServer);
}
void deleteUser(SOCKET sockClient)
{
	SOCKET soc = sockClient;
	logM *plogM = (logM *)calloc(1, sizeof(logM));		//å‘é€å‘æœåŠ¡å…¶è¯·æ±‚æŸ¥è¯¢çš„æ¶ˆæ¯
	logM *plogMRe = (logM *)calloc(1, sizeof(logM));	//æ¥å—æœåŠ¡å™¨å›ä¼ çš„çŠ¶æ€ä¿¡æ¯å’Œç”¨æˆ·ä¿¡æ¯

	plogM->headFlag[0] = 2;
	plogM->headFlag[1] = 4;	
	plogM->headFlag[2] = 1;	//ç”³è¯·æŸ¥è¯¢æ ‡å¿—
	send(sockClient, (char *)plogM, sizeof(*plogM), 0);			//å‘é€æ•°æ®

	recv(sockClient, (char *)plogMRe, sizeof(*plogMRe), 0);		//æ¥å—æœåŠ¡å™¨è¿”å›çš„æ•°æ®

	if (1 == plogMRe->headFlag[2])
	{
		//åˆ é™¤ç”¨æˆ·å…·ä½“æ“ä½œ
		//åˆ—å‡ºæ‰€æœ‰ç”¨æˆ·å
		printf("------------------------------------------------------------------------\n");
		printf("\t\t\t  **** ç”¨æˆ·ç®¡ç†ç³»ç»Ÿ ****\n");
		printf("------------------------------------------------------------------------\n");
		printf("\t----ç”¨æˆ·ç®¡ç†\n");
		printf("\t-------åˆ é™¤ç”¨æˆ·\n");
		printf("------------------------------------------------------------------------\n\n");

		listExistUserName(plogMRe);
		//è¾“å…¥è¦åˆ é™¤çš„ç”¨æˆ·åï¼Œåˆ—å‡ºè¯¥ç”¨æˆ·çš„è¯¦ç»†ä¿¡æ¯
		char queryName[20] = { 0 };
		plogM->headFlag[1] = 2;
		memset(plogMRe, 0, sizeof(logM));

		printf("\n------------------------------------------------------------------------\n");
		printf("è¯·è¾“å…¥è¦åˆ é™¤çš„ç”¨æˆ·åï¼š");
		scanf("%s", queryName);
		strcpy(plogM->userMessage, queryName);

		send(sockClient, (char *)plogM, sizeof(*plogM), 0);			//å‘é€æ•°æ®
		//printf("\nå‘é€ç”¨æˆ·åç¡®è®¤headFlag[1]:%d %s\n", plogM->headFlag[1], plogM->userMessage);

		recv(sockClient, (char *)plogMRe, sizeof(*plogMRe), 0);		//æ¥å—æœåŠ¡å™¨è¿”å›çš„æ•°æ®
		//printf("received server :%d %s\n", plogMRe->headFlag[1], plogMRe->userMessage);

		if (2 == plogMRe->headFlag[1])
		{
			printf("\n------------------------------------------------------------------------\n");
			printf("åˆ é™¤æˆåŠŸï¼å›è½¦é”®è¿”å›èœå•\n");
			getchar();
			getchar();
			system("cls");
		}
		else
		{
			printf("\n------------------------------------------------------------------------\n");
			printf("åˆ é™¤å¤±è´¥ï¼è¯·æ£€æŸ¥æ‚¨çš„æ“ä½œï¼å›è½¦é”®è¿”å›èœå•\n\n");
			getchar();
			getchar();
			system("cls");
		}

	}
	else
	{
		printf("\n------------------------------------------------------------------------\n");
		printf("è¯·æ±‚å¤±è´¥ï¼å›è½¦é”®è¿”å›èœå•ã€‚\n");
		getchar();
		getchar();
		system("cls");
	}

	free(plogM);
	free(plogMRe);
}
void changeUser(SOCKET sockClient)
{
	SOCKET soc = sockClient;
	logM *plogM = (logM *)calloc(1, sizeof(logM));		//å‘é€å‘æœåŠ¡å…¶è¯·æ±‚æŸ¥è¯¢çš„æ¶ˆæ¯
	logM *plogMRe = (logM *)calloc(1, sizeof(logM));	//æ¥å—æœåŠ¡å™¨å›ä¼ çš„çŠ¶æ€ä¿¡æ¯å’Œç”¨æˆ·ä¿¡æ¯

	userMsg *pUserMsg = (userMsg *)calloc(1, sizeof(userMsg)); //æ¥å—è¾“å…¥çš„ä¿®æ”¹ä¿¡æ¯
	char *allMsg = (char *)calloc(1024, sizeof(char));			//ä¿å­˜ä¿®æ”¹ä¿¡æ¯ï¼Œ

	plogM->headFlag[0] = 2;	//ç”¨æˆ·ç®¡ç†æ ‡å¿—
	plogM->headFlag[1] = 4;	//æŸ¥è¯¢æ ‡å¿—
	plogM->headFlag[2] = 1;	//ç”³è¯·æŸ¥è¯¢æ ‡å¿—
	send(sockClient, (char *)plogM, sizeof(*plogM), 0);			//å‘é€è¯·æ±‚æŸ¥è¯¢æ•°æ®

	recv(sockClient, (char *)plogMRe, sizeof(*plogMRe), 0);		//æ¥å—æœåŠ¡å™¨è¿”å›çš„æ•°æ®åˆ¤æ–­æ˜¯å¦å¯æŸ¥

	if (1 == plogMRe->headFlag[2])  //å¯ä»¥æŸ¥è¯¢ï¼Œåˆ—å‡ºç”¨æˆ·å
	{
		//ä¿®æ”¹ç”¨æˆ·å…·ä½“æ“ä½œ
		//åˆ—å‡ºæ‰€æœ‰ç”¨æˆ·å
		printf("------------------------------------------------------------------------\n");
		printf("\t\t\t  **** ç”¨æˆ·ç®¡ç†ç³»ç»Ÿ ****\n");
		printf("------------------------------------------------------------------------\n");
		printf("\t----ç”¨æˆ·ç®¡ç†\n");
		printf("\t-------ä¿®æ”¹ç”¨æˆ·\n");
		printf("------------------------------------------------------------------------\n\n");
		listExistUserName(plogMRe);
		printf("\n\n------------------------------------------------------------------------\n");
		//è¾“å…¥è¦ä¿®æ”¹çš„ç”¨æˆ·åï¼Œå’Œä¿®æ”¹ä¿¡æ¯
		char queryName[20] = { 0 };
		plogM->headFlag[1] = 3;
		//memset(plogMRe, 0, sizeof(logM));

		//è¾“å…¥è¦ä¿®æ”¹çš„ç”¨æˆ·å
		printf("\n       è¯·è¾“å…¥è¦ä¿®æ”¹çš„ç”¨æˆ·å:");
		scanf("%s", pUserMsg->userName);
		strcat(allMsg, pUserMsg->userName);
		strcat(allMsg, ":");
		system("cls");

		printf("\n       è¯·è¾“å…¥ç”µè¯:");
		scanf("%s", pUserMsg->del);
		strcat(allMsg, pUserMsg->del);
		strcat(allMsg, ":");
		system("cls");

		printf("\n       è¯·è¾“å…¥é‚®ç®±:");
		scanf("%s", pUserMsg->mail);
		strcat(allMsg, pUserMsg->mail);
		strcat(allMsg, ":");
		system("cls");

		printf("\n       è¯·è¾“å…¥èŒä½:");
		scanf("%s", pUserMsg->job);

		strcat(allMsg, pUserMsg->job);
		strcat(allMsg, ":");
		system("cls");

		printf("\n       è¯·è¾“å…¥åˆ›å»ºè€…:");
		scanf("%s", pUserMsg->createPerson);

		strcat(allMsg, pUserMsg->createPerson);
		strcat(allMsg, ":");
		system("cls");

		printf("\n       è¯·è¾“å…¥åˆ›å»ºæ—¶é—´:");
		scanf("%s", pUserMsg->createTime);

		strcat(allMsg, pUserMsg->createTime);
		strcat(allMsg, ":");
		system("cls");

		printf("\n       è¯·è¾“å…¥è§’è‰²:");
		scanf("%s", pUserMsg->role);

		strcat(allMsg, pUserMsg->role);
		strcat(allMsg, ":");
		system("cls");

		printf("\n       è¯·è¾“å…¥å¯†ç :");
		scanf("%s", pUserMsg->password);

		strcat(allMsg, pUserMsg->password);
		system("cls");

		strcpy(plogMRe->userMessage, allMsg);
		plogMRe->headFlag[0] = 2;
		plogMRe->headFlag[1] = 3;

		send(sockClient, (char *)plogMRe, sizeof(*plogMRe), 0);			//å‘é€æ•°æ®
		//printf("\nå‘é€ç”¨æˆ·åç¡®è®¤headFlag[1]:%d %s\n", plogMRe->headFlag[1], plogMRe->userMessage);

		recv(sockClient, (char *)plogMRe, sizeof(*plogMRe), 0);		//æ¥å—æœåŠ¡å™¨è¿”å›çš„æ•°æ®
		//printf("received server :%d %s\n", plogMRe->headFlag[1], plogMRe->userMessage);

		if (3 == plogMRe->headFlag[1])
		{
			printf("\n------------------------------------------------------------------------\n");
			printf("ä¿®æ”¹æˆåŠŸï¼\n");
		}
		else
		{
			printf("\n------------------------------------------------------------------------\n");
			printf("ä¿®æ”¹å¤±è´¥ï¼è¯·æ£€æŸ¥æ‚¨çš„æ“ä½œï¼\n");
		}

	}
	else
	{
		printf("\n------------------------------------------------------------------------\n");
		printf("è¯·æ±‚å¤±è´¥ï¼\n");
	}

	free(plogM);
	free(plogMRe);
	free(pUserMsg);
	free(allMsg);
}
void queryUser(SOCKET sockClient)
{
	SOCKET soc = sockClient;
	logM *plogM = (logM *)calloc(1, sizeof(logM));		//å‘é€å‘æœåŠ¡å…¶è¯·æ±‚æŸ¥è¯¢çš„æ¶ˆæ¯
	logM *plogMRe = (logM *)calloc(1, sizeof(logM));	//æ¥å—æœåŠ¡å™¨å›ä¼ çš„çŠ¶æ€ä¿¡æ¯å’Œç”¨æˆ·ä¿¡æ¯

	plogM->headFlag[0] = 2;	//ç”¨æˆ·ç®¡ç†æ ‡å¿—
	plogM->headFlag[1] = 4;	//æŸ¥è¯¢ç”¨æˆ·æ ‡è¯†
	plogM->headFlag[2] = 1;	//ç”³è¯·æŸ¥è¯¢æ ‡å¿—
	send(sockClient, (char *)plogM, sizeof(*plogM), 0);			//å‘é€æ•°æ®

	recv(sockClient, (char *)plogMRe, sizeof(*plogMRe), 0);		//æ¥å—æœåŠ¡å™¨è¿”å›çš„æ•°æ®

	if (1 == plogMRe->headFlag[2])
	{
		//åˆ—å‡ºå·²å­˜åœ¨æ‰€æœ‰ç”¨æˆ·å
		char *allUserName = plogMRe->userMessage;
		char *pAum = allUserName;
		char buf[20] = { 0 };
		printf("------------------------------------------------------------------------\n");
		printf("\t\t\t  **** ç”¨æˆ·ç®¡ç†ç³»ç»Ÿ ****\n");
		printf("------------------------------------------------------------------------\n");
		printf("\t----ç”¨æˆ·ç®¡ç†\n");
		printf("\t-------æŸ¥è¯¢ç”¨æˆ·\n");
		printf("------------------------------------------------------------------------\n\n");
		printf("\n\n------------------------------------------------------------------------\n");
		printf("æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯:\n");
		while (*allUserName != '\0')
		{
			if (*allUserName == ':')
			{
				strncpy(buf, pAum, allUserName - pAum);
				buf[allUserName - pAum] = '\0';
				printf("\tç”¨æˆ·åï¼š %s\n",buf);
				pAum = pAum + (allUserName - pAum) + 1;
			}
			allUserName++;
		}

		//è¾“å…¥è¦æŸ¥è¯¢çš„ç”¨æˆ·åï¼Œåˆ—å‡ºè¯¥ç”¨æˆ·çš„è¯¦ç»†ä¿¡æ¯
		char queryName[20] = { 0 };
		plogM->headFlag[2] = 2;
		memset(plogMRe, 0, sizeof(logM));

		printf("\n\n------------------------------------------------------------------------\n");
		printf("è¯·è¾“å…¥è¦æŸ¥è¯¢çš„ç”¨æˆ·åï¼š");
		scanf("%s", queryName);
		strcpy(plogM->userMessage, queryName);
		system("cls");
		send(sockClient, (char *)plogM, sizeof(*plogM), 0);			//å‘é€æ•°æ®
		//printf("\nå‘é€ç”¨æˆ·åç¡®è®¤headFlag[2]:%d %s\n", plogM->headFlag[2], plogM->userMessage);

		recv(sockClient, (char *)plogMRe, sizeof(*plogMRe), 0);		//æ¥å—æœåŠ¡å™¨è¿”å›çš„æ•°æ®
		//printf("received server :%d %s\n", plogMRe->headFlag[2], plogMRe->userMessage);

		strcat(plogMRe->userMessage, ":");
		system("cls");
		if (2 == plogMRe->headFlag[2])
		{
			char *oneUserMsg = plogMRe->userMessage;
			char *pOum = oneUserMsg;
			char buf[40] = { 0 };

			printf("\n------------------------------------------------------------------------\n");
			printf("ç”¨æˆ·ä¿¡æ¯è¯¦ç»†ä¿¡æ¯:\n");
			while (*oneUserMsg != '\0')
			{
				if (*oneUserMsg == ':')
				{
					strncpy(buf, pOum, oneUserMsg - pOum);
					buf[oneUserMsg - pOum] = '\0';

					printf("è¯¥ç”¨æˆ·ä¿¡æ¯ï¼š %s\n", buf);
					pOum = pOum + (oneUserMsg - pOum) + 1;
				}
				oneUserMsg++;
			}
		}

	}
	else
	{
		printf("\n\n------------------------------------------------------------------------\n");
		printf("è¯·æ±‚å¤±è´¥ï¼\n");
		getchar();
		getchar();
		system("cls");
	}

	free(plogM);
	free(plogMRe);
}
void listExistUserName(logM * plogM)
{
	logM * plogMRe = plogM;

	if (1 == plogMRe->headFlag[2])
	{
		//åˆ—å‡ºå·²å­˜åœ¨æ‰€æœ‰ç”¨æˆ·å
		char *allUserName = plogMRe->userMessage;
		char *pAum = allUserName;
		char buf[20] = { 0 };

		printf("æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯:\n");
		while (*allUserName != '\0')
		{
			if (*allUserName == ':')
			{
				strncpy(buf, pAum, allUserName - pAum);
				buf[allUserName - pAum] = '\0';
				printf("ç”¨æˆ·åï¼š %s\n", buf);
				pAum = pAum + (allUserName - pAum) + 1;
			}
			allUserName++;
		}
	}
	else
	{
		printf("åˆ é™¤è¯·æ±‚å‡ºé”™ï¼Œä¸èƒ½åˆ—å‡ºæ‰€æœ‰ç”¨æˆ·åï¼\n");
	}
}

////////////////////////////////è§’è‰²ç®¡ç†////////////////////////////////////
void addRole(SOCKET sockClient)				//å¢åŠ è§’è‰²ã€
{
	SOCKET soc = sockClient;
	logM *plogM = (logM *)calloc(1, sizeof(logM));		//å‘é€å‘æœåŠ¡å…¶è¯·æ±‚æŸ¥è¯¢æƒé™çš„æ¶ˆæ¯
	logM *plogMRe = (logM *)calloc(1, sizeof(logM));	//æ¥å—æœåŠ¡å™¨å›ä¼ çš„çŠ¶æ€ä¿¡æ¯å’Œæƒé™ä¿¡æ¯

	char roleName[100] = { 0 };		//æš‚å­˜è§’è‰²åç§°
	char roleNameAndPermission[1024] = { 0 };   //æš‚å­˜è¦å‘ç»™æœåŠ¡å™¨çš„ä¿¡æ¯
	char buf[10] = { 0 };

	if (!soc)
	{
		printf("socket errorï¼");
	}

	plogM->headFlag[0] = 3;
	plogM->headFlag[1] = 1;

	printf("\nè¯·è¾“å…¥è§’è‰²åç§°ï¼š");
	scanf("%s", roleName);
	strcat(roleNameAndPermission, roleName);
	strcat(roleNameAndPermission, ":");
	fflush(stdin);

	printf("\nè¯·é€‰æ‹©è¦ç»™æ‰€æ·»åŠ çš„è§’è‰²èµ‹äºˆçš„æƒé™ï¼š");
	printf("\nè¾“å…¥1è¡¨ç¤ºèµ‹äºˆè¯¥æƒé™ï¼Œ0è¡¨ç¤ºä¸èµ‹äºˆè¯¥æƒé™ï¼\n");

	printf("1.å¢åŠ ç”¨æˆ·:");
	scanf("%s", buf);
	strcat(roleNameAndPermission, buf);
 
	printf("2.åˆ é™¤ç”¨æˆ·");
	scanf("%s", buf);
	strcat(roleNameAndPermission, buf);
 
	printf("3.ä¿®æ”¹ç”¨æˆ·");
	scanf("%s", buf);
	strcat(roleNameAndPermission, buf);
 
	printf("4.æŸ¥è¯¢ç”¨æˆ·");
	scanf("%s", buf);
	strcat(roleNameAndPermission, buf);
 
	printf("5.å¢åŠ è§’è‰²");
	scanf("%s", buf);
	strcat(roleNameAndPermission, buf);
 
	printf("6.åˆ é™¤è§’è‰²");
	scanf("%s", buf);
	strcat(roleNameAndPermission, buf);
 
	printf("7.ä¿®æ”¹è§’è‰²");
	scanf("%s", buf);
	strcat(roleNameAndPermission, buf);
 
	printf("8.æŸ¥è¯¢è§’è‰²");
	scanf("%s", buf);
	strcat(roleNameAndPermission, buf);
 
	printf("9.ä¿®æ”¹æƒé™");
	scanf("%s", buf);
	strcat(roleNameAndPermission, buf);
 
	printf("10.æŸ¥è¯¢æƒé™");
	scanf("%s", buf);
	strcat(roleNameAndPermission, buf);

	strcpy(plogM->userMessage, roleNameAndPermission);
	send(sockClient, (char *)plogM, sizeof(*plogM), 0);			//å‘é€è¯·æ±‚æŸ¥è¯¢æ•°æ®
	printf("\nå¢åŠ è§’è‰²ç¡®è®¤å‘é€ï¼š\n heafFlag[1]=%d %s", plogMRe->headFlag[1], plogMRe->userMessage);

	recv(sockClient, (char *)plogMRe, sizeof(*plogMRe), 0);
	printf("æ”¶åˆ°æœåŠ¡å™¨ä¼ å›çš„å­—ç¬¦ä¸²ï¼š\n heafFlag[1]=%d %s", plogMRe->headFlag[1], plogMRe->userMessage);
	
	if (1 == plogMRe->headFlag[1])
	{
		printf("\nè§’è‰²æ·»åŠ æˆåŠŸï¼");
	}
	else
	{
		printf("\nè§’è‰²æ·»åŠ å¤±è´¥ï¼");
	}

	free(plogM);
	free(plogMRe);
}
void deleteRole(SOCKET sockClient)			//åˆ é™¤è§’è‰²
{
	SOCKET soc = sockClient;
	logM *plogM = (logM *)calloc(1, sizeof(logM));		//å‘é€å‘æœåŠ¡å…¶è¯·æ±‚æŸ¥è¯¢æƒé™çš„æ¶ˆæ¯
	logM *plogMRe = (logM *)calloc(1, sizeof(logM));	//æ¥å—æœåŠ¡å™¨å›ä¼ çš„çŠ¶æ€ä¿¡æ¯å’Œæƒé™ä¿¡æ¯
	char roleName[100] = { 0 };

	if (!soc)
	{
		printf("socket errorï¼");
	}

	plogM->headFlag[0] = 3;
	plogM->headFlag[1] = 2;

	listExistRole(soc);
	printf("\nè¯·è¾“å…¥è¦åˆ é™¤çš„è§’è‰²åç§°ï¼š");
	scanf("%s", roleName);
	strcat(plogM->userMessage, roleName);

	send(sockClient, (char *)plogM, sizeof(*plogM), 0);			//å‘é€è¯·æ±‚æŸ¥è¯¢æ•°æ®
	printf("\nåˆ é™¤è§’è‰²ç¡®è®¤ï¼š\n heafFlag[1]=%d   %s", plogMRe->headFlag[1], plogMRe->userMessage);

	recv(sockClient, (char *)plogMRe, sizeof(*plogMRe), 0);
	printf("\næœåŠ¡å™¨ä¼ å›ï¼š\n heafFlag[1]=%d   %s", plogMRe->headFlag[1], plogMRe->userMessage);

	if (2 == plogMRe->headFlag[1])
	{
		printf("\nåˆ é™¤æˆåŠŸï¼\n");
	}
	else
	{
		printf("\nåˆ é™¤å¤±è´¥ï¼\n");
	}
}
void changeRole(SOCKET sockClient)			//ä¿®æ”¹è§’è‰²
{
	SOCKET soc = sockClient;
	logM *plogM = (logM *)calloc(1, sizeof(logM));		//å‘é€å‘æœåŠ¡å…¶è¯·æ±‚æŸ¥è¯¢æƒé™çš„æ¶ˆæ¯
	logM *plogMRe = (logM *)calloc(1, sizeof(logM));	//æ¥å—æœåŠ¡å™¨å›ä¼ çš„çŠ¶æ€ä¿¡æ¯å’Œæƒé™ä¿¡æ¯

	char roleName[100] = { 0 };		//æš‚å­˜è§’è‰²åç§°
	char roleNameAndPermission[1024] = { 0 };   //æš‚å­˜è¦å‘ç»™æœåŠ¡å™¨çš„ä¿¡æ¯
	char buf[10] = { 0 };
	listExistRole(soc);

	//è¾“å…¥è¦ä¿®æ”¹çš„è§’è‰²å
	char changeName[200] = { 0 };

	plogM->headFlag[0] = 3;
	plogM->headFlag[1] = 3;
	memset(plogMRe, 0, sizeof(logM));

	printf("\nè¯·è¾“å…¥è¦ä¿®æ”¹çš„è§’è‰²åç§°ï¼š");
	scanf("%s", roleName);
	strcat(roleNameAndPermission, roleName);
	strcat(roleNameAndPermission, ":");
	fflush(stdin);

	printf("\nè¯·é‡æ–°èµ‹äºˆè¯¥è§’è‰²æƒé™ã€‚\n");
	printf("\nè¾“å…¥1è¡¨ç¤ºèµ‹äºˆè¯¥æƒé™ï¼Œ0è¡¨ç¤ºä¸èµ‹äºˆè¯¥æƒé™ï¼\n");

	printf("1.å¢åŠ ç”¨æˆ·:");
	scanf("%s", buf);
	strcat(roleNameAndPermission, buf);

	printf("2.åˆ é™¤ç”¨æˆ·");
	scanf("%s", buf);
	strcat(roleNameAndPermission, buf);

	printf("3.ä¿®æ”¹ç”¨æˆ·");
	scanf("%s", buf);
	strcat(roleNameAndPermission, buf);

	printf("4.æŸ¥è¯¢ç”¨æˆ·");
	scanf("%s", buf);
	strcat(roleNameAndPermission, buf);

	printf("5.å¢åŠ è§’è‰²");
	scanf("%s", buf);
	strcat(roleNameAndPermission, buf);

	printf("6.åˆ é™¤è§’è‰²");
	scanf("%s", buf);
	strcat(roleNameAndPermission, buf);

	printf("7.ä¿®æ”¹è§’è‰²");
	scanf("%s", buf);
	strcat(roleNameAndPermission, buf);

	printf("8.æŸ¥è¯¢è§’è‰²");
	scanf("%s", buf);
	strcat(roleNameAndPermission, buf);

	printf("9.ä¿®æ”¹æƒé™");
	scanf("%s", buf);
	strcat(roleNameAndPermission, buf);

	printf("10.æŸ¥è¯¢æƒé™");
	scanf("%s", buf);
	strcat(roleNameAndPermission, buf);

	strcpy(plogM->userMessage, roleNameAndPermission);
	send(sockClient, (char *)plogM, sizeof(*plogM), 0);			//å‘é€è¯·æ±‚æŸ¥è¯¢æ•°æ®
	printf("\nå¢åŠ è§’è‰²ç¡®è®¤å‘é€ï¼š\n heafFlag[1]=%d %s", plogMRe->headFlag[1], plogMRe->userMessage);

	recv(sockClient, (char *)plogMRe, sizeof(*plogMRe), 0);
	printf("æ”¶åˆ°æœåŠ¡å™¨ä¼ å›çš„å­—ç¬¦ä¸²ï¼š\n heafFlag[1]=%d %s", plogMRe->headFlag[1], plogMRe->userMessage);

	if (3 == plogMRe->headFlag[1])
	{
		printf("\nè§’è‰²ä¿®æ”¹æˆåŠŸï¼\n");
	}
	else
	{
		printf("\nè§’è‰²ä¿®æ”¹å¤±è´¥ï¼\n");
	}

	free(plogM);
	free(plogMRe);
}
void queryRole(SOCKET sockClient)			//æŸ¥è¯¢è§’è‰²
{
	SOCKET soc = sockClient;
	logM *plogM = (logM *)calloc(1, sizeof(logM));		//å‘é€å‘æœåŠ¡å…¶è¯·æ±‚æŸ¥è¯¢æƒé™çš„æ¶ˆæ¯
	logM *plogMRe = (logM *)calloc(1, sizeof(logM));	//æ¥å—æœåŠ¡å™¨å›ä¼ çš„çŠ¶æ€ä¿¡æ¯å’Œæƒé™ä¿¡æ¯

	listExistRole(soc);
		
	//è¾“å…¥è¦æŸ¥è¯¢çš„è§’è‰²åï¼Œåˆ—å‡ºè¯¥ç”¨æˆ·çš„è¯¦ç»†ä¿¡æ¯
	char queryName[200] = { 0 };

	plogM->headFlag[0] = 3;
	plogM->headFlag[1] = 4;
	plogM->headFlag[2] = 2;
	memset(plogMRe, 0, sizeof(logM));

	printf("è¯·è¾“å…¥è¦æŸ¥è¯¢çš„è§’è‰²åï¼š");
	scanf("%s", queryName);
	strcpy(plogM->userMessage, queryName);

	send(sockClient, (char *)plogM, sizeof(*plogM), 0);			//å‘é€æ•°æ®
	printf("\nå‘é€ç”¨æˆ·åç¡®è®¤headFlag[2]:%d %s\n", plogM->headFlag[2], plogM->userMessage);

	recv(sockClient, (char *)plogMRe, sizeof(*plogMRe), 0);		//æ¥å—æœåŠ¡å™¨è¿”å›çš„æ•°æ®
	printf("received server :%d %s\n", plogMRe->headFlag[2], plogMRe->userMessage);

	strcat(plogMRe->userMessage, ":");
	if (2 == plogMRe->headFlag[2])
	{
		char *oneRolePermission = plogMRe->userMessage;

		printf("è§’è‰²è¯¦ç»†ä¿¡æ¯:\n");
		for (int i = 0; oneRolePermission[i] != ':'; i++)
		{
			if (oneRolePermission[i] == '1')
			{
				printf("%s\n", permissionMessg[i]);
			}	
		}
	}
	else
	{
		printf("\næŸ¥è¯¢å¤±è´¥ï¼\n");
	}

	
	free(plogM);
	free(plogMRe);
}
void listExistRole(SOCKET sockClient)		//åˆ—å‡ºå½“å‰æ‰€æœ‰è§’è‰²å
{
	SOCKET soc = sockClient;
	logM *plogM = (logM *)calloc(1, sizeof(logM));		//å‘é€å‘æœåŠ¡å…¶è¯·æ±‚æŸ¥è¯¢æƒé™çš„æ¶ˆæ¯
	logM *plogMRe = (logM *)calloc(1, sizeof(logM));	//æ¥å—æœåŠ¡å™¨å›ä¼ çš„çŠ¶æ€ä¿¡æ¯å’Œæƒé™ä¿¡æ¯

	if (!soc)
	{
		printf("socket errorï¼");
	}
	plogM->headFlag[0] = 3;
	plogM->headFlag[1] = 4;
	plogM->headFlag[2] = 1;

	send(sockClient, (char *)plogM, sizeof(*plogM), 0);			//å‘é€è¯·æ±‚æŸ¥è¯¢è§’è‰²
	//printf("\nå¢åŠ è§’è‰²é€ç¡®è®¤ï¼š\n heafFlag[1]=%d\n", plogMRe->headFlag[2]);

	recv(sockClient, (char *)plogMRe, sizeof(*plogMRe), 0);
	//printf("\næœåŠ¡å™¨ä¼ å›ï¼š\n heafFlag[1]=%d\n", plogMRe->headFlag[2]);

	if (1 == plogMRe->headFlag[2])			//è¯·æ±‚æŸ¥è¯¢è§’è‰²æˆåŠŸ
	{
		//åˆ—å‡ºå·²å­˜åœ¨æ‰€æœ‰è§’è‰²åç§°
		char *allRoleName = plogMRe->userMessage;
		char *pArn = allRoleName;
		char buf[20] = { 0 };		//æš‚å­˜è§’è‰²ä¸€æ¡åç§°

		//printf("æ‰€æœ‰è§’è‰²ä¿¡æ¯:\n");
		while (*allRoleName != '\0')
		{
			if (*allRoleName == ':')
			{
				strncpy(buf, pArn, allRoleName - pArn);
				buf[allRoleName - pArn] = '\0';
				printf("è§’è‰²åï¼š %s\n", buf);
				//memset(buf, 0, sizeof(buf));
				pArn = pArn + (allRoleName - pArn) + 1;
			}
			allRoleName++;
		}
	}
	else
	{
		printf("\nè¯·æ±‚æŸ¥è¯¢è§’è‰²ä¿¡æ¯å¤±è´¥ï¼");
	}

	free(plogM);
	free(plogMRe);
}

////////////////////////////////æƒé™ç®¡ç†////////////////////////////////////
void changePermission(SOCKET sockClient)			//ä¿®æ”¹æƒé™
{
	SOCKET soc = sockClient;
	logM *plogM = (logM *)calloc(1, sizeof(logM));		//å‘é€å‘æœåŠ¡å…¶è¯·æ±‚æŸ¥è¯¢æƒé™çš„æ¶ˆæ¯
	logM *plogMRe = (logM *)calloc(1, sizeof(logM));	//æ¥å—æœåŠ¡å™¨å›ä¼ çš„çŠ¶æ€ä¿¡æ¯å’Œæƒé™ä¿¡æ¯

	if (!soc)
	{
		printf("socket errorï¼");
	}
		
	char permissionNum[20] = { 0 };
	printf("ç³»ç»Ÿæ‰€æœ‰æƒé™åˆ—è¡¨:\n");
	listExistPermission();

	printf("è¯·é€‰æ‹©æƒé™ï¼š(è¾“å…¥1ä¸ºæ·»åŠ ï¼Œè¾“å…¥å…¶ä»–å€¼ä¸ºä¸æ·»åŠ )\n");
	for (int i = 0; i < 10; i++)
	{
		printf("%s", permissionMessg[i]);
		fflush(stdin);
		scanf("%c", permissionNum + i);
	}

	//å¦‚æœç”¨æˆ·è¾“å…¥100ä½çš„æ’é”™ä»£ç 
	for (int i = 0; i < 10; i++)
	{
		if (permissionNum[i] == '1')
		{
			permissionNum[i] = '1';
		}
		else
		{
			permissionNum[i] = '0';
		}
	}

	plogM->headFlag[0] = 4;	//æƒé™ç®¡ç†æ ‡å¿—
	plogM->headFlag[1] = 1;	//ç”³è¯·ä¿®æ”¹æ ‡å¿—
	strcpy(plogM->userMessage, permissionNum);

	send(sockClient, (char *)plogM, sizeof(*plogM), 0);			//å‘é€è¯·æ±‚æŸ¥è¯¢æ•°æ®

	recv(sockClient, (char *)plogMRe, sizeof(*plogMRe), 0);
	printf("æ”¶åˆ°æœåŠ¡å™¨ä¼ å›çš„å­—ç¬¦ä¸²ï¼š\n heafFlag[1]=%d %s", plogMRe->headFlag[1], plogMRe->userMessage);
	if (1 == plogMRe->headFlag[1])
	{
		printf("ä¿®æ”¹æˆåŠŸï¼\n");
	}
	else
	{
		printf("ä¿®æ”¹å¤±è´¥ï¼\n");
	}

	free(plogM);
	free(plogMRe);
}
void queryPermission(SOCKET sockClient)				//æŸ¥è¯¢æƒé™
{
	SOCKET soc = sockClient;
	logM *plogM = (logM *)calloc(1, sizeof(logM));		//å‘é€å‘æœåŠ¡å…¶è¯·æ±‚æŸ¥è¯¢æƒé™çš„æ¶ˆæ¯
	logM *plogMRe = (logM *)calloc(1, sizeof(logM));	//æ¥å—æœåŠ¡å™¨å›ä¼ çš„çŠ¶æ€ä¿¡æ¯å’Œæƒé™ä¿¡æ¯


	if (!soc)
	{
		printf("socket errorï¼");
	}
	plogM->headFlag[0] = 4;	//æƒé™ç®¡ç†æ ‡å¿—
	plogM->headFlag[1] = 2;	//ç”³è¯·æŸ¥è¯¢æ ‡å¿—

	send(sockClient, (char *)plogM, sizeof(*plogM), 0);			//å‘é€è¯·æ±‚æŸ¥è¯¢æ•°æ®

	recv(sockClient, (char *)plogMRe, sizeof(*plogMRe), 0);
	printf("æ”¶åˆ°æœåŠ¡å™¨ä¼ å›çš„å­—ç¬¦ä¸²ï¼šheafFlag[1]=%d %s", plogMRe->headFlag[1], plogMRe->userMessage);

	if (2 == plogMRe->headFlag[1])
	{
		//åˆ—å‡ºå·²å­˜åœ¨æ‰€æœ‰æƒé™
		char *pAp = plogMRe->userMessage;  //æ˜¯0 1å­—ç¬¦ä¸²
		int len = strlen(pAp);


		printf("æ‰€æœ‰æƒé™ä¿¡æ¯:\n");
		for (int i = 0; i < len; i++)
		{
			if (pAp[i] != '0')
			{
				printf("%s\n", permissionMessg[i]);
			}
		}
	}
	else
	{
		printf("è¯·æ±‚å¤±è´¥ï¼\n");
	}

	free(plogM);
	free(plogMRe);

}
void listExistPermission()			//åˆ—å‡ºå½“å‰æ‰€æœ‰æƒé™å
{

	for (int i = 0; i < 10; i++)
	{
		printf("%s\n", permissionMessg[i]);
	}
}

//////////////////////////////////////////////////////////////////////////////
void judgePasswd(char *password)
{
	char c;
	int a = 0;
	for (int i = 0; i < 100; i++)
	{
		c = _getch();
		if (c == 13)
		{
			break;
		}
		if ((c <= 90 && c >= 65) || (c >= 97 && c <= 122) || (c >= 48 && c <= 57))
		{
			printf("*");
			password[i] = c;
		}
		while (c == 8 && i >= 0)
		{
			printf("\b \b");
			i--;
			c = _getch();
			a++;
		}
		while (a == 1)
		{
			c = _getch();
			if ((c <= 90 && c >= 65) || (c >= 97 && c <= 122) || (c >= 48 && c <= 57))
				password[i] = c;
			a--;
		}
	}
}

void userManage(SOCKET sockClient)
{
	SOCKET sok = sockClient;

	int chooseU = -1;
	while (chooseU)		//å¾ªç¯ç”¨æˆ·ç®¡ç† çš„4ä¸ªé€‰é¡¹
	{
		userManageMenu();
		printf("\n------------------------------------------------------------------------");
		printf("\nè¯·é€‰æ‹©åŠŸèƒ½:");
		scanf("%d", &chooseU);

		if (getchar() != '\n')  //æ’é™¤1A  çš„è¾“å…¥
		{
			printf("\n------------------------------------------------------------------------\n");
			printf("è¯·é‡æ–°è¾“å…¥ä¸‹åˆ—é€‰é¡¹ç¼–å·ï¼š\n");
			continue;
		}
		system("cls");
		if (chooseU == 1)		//å¢åŠ ç”¨æˆ·
		{
			printf("\n------------------------------------------------------------------------\n");
			printf("éœ€è¦å¡«å†™çš„ä¿¡æ¯å¦‚ä¸‹ï¼š\n");
			userAllMessageMenu();
			addUser(sok);
		}
		else if (2 == chooseU)	//åˆ é™¤ç”¨æˆ·
		{
			deleteUser(sok);
		}
		else if (3 == chooseU)	//ä¿®æ”¹ç”¨æˆ·
		{
			changeUser(sok);
		}
		else if (4 == chooseU)	//æŸ¥è¯¢ç”¨æˆ·
		{
			//printf("\n------------------------------------------------------------------------");
			//printf("\næŸ¥è¯¢ç”¨æˆ·ï¼š\n");
			queryUser(sok);
			printf("\n\n------------------------------------------------------------------------");
			printf("\næŸ¥è¯¢ç”¨æˆ·ç»“æŸ!\næŒ‰å›è½¦é”®å›åˆ°èœå•ã€‚\n");
			getchar();
			getchar();
			system("cls");
		}
		else if (0 != chooseU)
		{
			printf("\n------------------------------------------------------------------------");
			printf("\næ‚¨çš„è¾“å…¥æœ‰è¯¯ï¼è¯·é‡æ–°è¾“å…¥ï¼š\n");

		}
	}
}
void roleManage(SOCKET sockClient)
{
	SOCKET sok = sockClient;
	int chooseR = -1;
	fflush(stdin);
	while (chooseR)
	{
		printf("è§’è‰²ç®¡ç†èœå•ï¼š\n");
		roleManageMenu();
		printf("\nè¯·é€‰æ‹©åŠŸèƒ½:");
		scanf("%d", &chooseR);

		if (getchar() != '\n')  //æ’é™¤1A  çš„è¾“å…¥
		{
			printf("è¯·é‡æ–°è¾“å…¥ä¸‹åˆ—é€‰é¡¹ç¼–å·ï¼š\n");
			continue;
		}

		if (chooseR == 1)		//å¢åŠ è§’è‰²
		{
			printf("\néœ€è¦å¡«å†™çš„ä¿¡æ¯å¦‚ä¸‹ï¼š");
			addRole(sok);
		}
		else if (2 == chooseR)	//åˆ é™¤è§’è‰²
		{
			deleteRole(sok);
		}
		else if (3 == chooseR)	//ä¿®æ”¹è§’è‰²
		{
			changeRole(sok);
		}
		else if (4 == chooseR)	//æŸ¥è¯¢è§’è‰²
		{
			queryRole(sok);
		}
		else if (0 != chooseR)
		{
			printf("æ‚¨çš„è¾“å…¥æœ‰è¯¯ï¼è¯·é‡æ–°è¾“å…¥ï¼š\n");

		}
	}
}
void permissionManage(SOCKET sockClient)
{
	SOCKET sok = sockClient;
	int chooseP = -1;

	while (chooseP)
	{
		printf("æƒé™ç®¡ç†èœå•ï¼š\n");
		permissionManageMenu();
		fflush(stdin);

		printf("\nè¯·é€‰æ‹©åŠŸèƒ½:");
		scanf("%d", &chooseP);

		if (chooseP == 1)		//ä¿®æ”¹æƒé™
		{
			printf("ä¿®æ”¹æƒé™ï¼š");
			changePermission(sok);
		}

		else if (2 == chooseP)	//æŸ¥è¯¢æƒé™
		{
			printf("æŸ¥è¯¢æƒé™ï¼š\n");
			queryPermission(sok);
			printf("æŸ¥è¯¢ç”¨æˆ·ç»“æŸ\n");

		}
		else if (0 != chooseP)
		{
			printf("æ‚¨çš„è¾“å…¥æœ‰è¯¯ï¼è¯·é‡æ–°è¾“å…¥ï¼š\n");
		}
	}

}
=======
		SOCKET sockClient;			//¿¿¿Socket
			SOCKADDR_IN addrServer;		//¿¿¿¿¿
				WSAStartup(MAKEWORD(2, 2), &wsaData);

					sockClient = socket(AF_INET, SOCK_STREAM, 0);	//¿¿¿¿¿socket

						//¿¿¿¿¿¿¿¿¿¿¿
							addrServer.sin_addr.S_un.S_addr = inet_addr("192.168.1.19"); 
								addrServer.sin_family = AF_INET;
									addrServer.sin_port = htons(10002);		//¿¿¿¿10002

										//¿¿¿¿¿¿
											int ret = connect(sockClient, (SOCKADDR*)&addrServer, sizeof(SOCKADDR));
												if (ret)
													{
															printf("¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿\n");
																	Sleep(3000);
																			exit(-1);
																				}
																					return sockClient;
																					}

																					/************************************************************************/
																					/* ¿¿¿¿¿¿¿¿¿¿¿¿¿¿                                                                     */
																					/************************************************************************/
																					int travUserMesg(char *userMessage)    //¿¿¿¿¿¿
																					{
																						if (userMessage == NULL)
																							{
																									printf("¿¿¿¿¿¿¿¿¿\n");
																											
																													return -1;
																														}

																															while (*userMessage != '\0')							//¿¿¿¿¿
																																{
																																		if (isalpha(*userMessage) || isdigit(*userMessage)) //¿¿¿¿¿¿¿
																																				{
																																							userMessage++;
																																									}
																																											else
																																													{
																																																//system("cls");
																																																			printf("¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿!");
																																																						return -1;
																																																								}
																																																									}
																																																										return 1;
																																																										}

																																																										/*¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
																																																										void judgeUserMessageOverEight(int userMessageLen)
																																																										{
																																																											int choose = 0;
																																																												int length = userMessageLen;
																																																													if (length > 8)
																																																														{
																																																																printf("\n¿¿¿¿¿¿¿¿¿¿¿8¿¿\n");
																																																																		printf("\n¿¿¿¿¿1¿¿¿¿¿¿¿¿¿¿¿¿¿");
																																																																				fflush(stdin);
																																																																						scanf("%d", &choose);
																																																																								fflush(stdin);
																																																																										if (choose == 1)
																																																																												{
																																																																															system("cls");
																																																																																		logToSystem();
																																																																																				}
																																																																																						else
																																																																																								{
																																																																																											exit(0);
																																																																																													}
																																																																																														}
																																																																																														}
																																																																																														*/

																																																																																														/********************************************************************
																																																																																														*¿¿¿¿¿¿¿¿¿¿¿¿¿¿
																																																																																														********************************************************************/
																																																																																														void initStruct(logM * plogM)
																																																																																														{
																																																																																															memset(plogM->headFlag, 0, sizeof(plogM->headFlag));
																																																																																																memset(plogM->userMessage, 0, sizeof(plogM->userMessage));
																																																																																																}
																																																																																																/************************************************************************/
																																																																																																/* ¿¿¿¿¿¿¿¿¿¿¿¿                                                                     */
																																																																																																/************************************************************************/
																																																																																																void initUserALLMsgStruct(userMsg * pUserMsg)
																																																																																																{
																																																																																																	memset(pUserMsg->userName, 0, sizeof(pUserMsg->userName));
																																																																																																		memset(pUserMsg->del, 0, sizeof(pUserMsg->del));

																																																																																																			memset(pUserMsg->mail, 0, sizeof(pUserMsg->mail));
																																																																																																				memset(pUserMsg->job, 0, sizeof(pUserMsg->job));
																																																																																																					memset(pUserMsg->createPerson, 0, sizeof(pUserMsg->createPerson));
																																																																																																						memset(pUserMsg->createTime, 0, sizeof(pUserMsg->createTime));
																																																																																																							memset(pUserMsg->role, 0, sizeof(pUserMsg->role));
																																																																																																								memset(pUserMsg->password, 0, sizeof(pUserMsg->password));
																																																																																																								}
																																																																																																								/************************************************************************/
																																																																																																								/* ¿¿¿¿¿¿¿¿headflag¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿                              */
																																																																																																								/************************************************************************/
																																																																																																								void processServerReMsg(logM *receiveServerMsg, SOCKET sockClient)
																																																																																																								{
																																																																																																									logM *pSend = receiveServerMsg;
																																																																																																										SOCKET sok = sockClient;

																																																																																																											if (1 == pSend->headFlag[0])  //¿¿¿¿¿¿¿¿¿
																																																																																																												{
																																																																																																														system("cls");
																																																																																																																printf("\n\n\n\n               ¿¿¿¿");
																																																																																																																		Sleep(2000);
																																																																																																																				system("cls");

																																																																																																																						int choose = -1;       //¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
																																																																																																																								while (choose)			//¿¿¿¿¿¿ 1.¿¿¿¿  2.¿¿¿¿  3.¿¿¿¿ 
																																																																																																																										{
																																																																																																																													manageMenu();
																																																																																																																																fflush(stdin);

																																																																																																																																			printf("\n¿¿¿¿¿:");
																																																																																																																																						scanf("%d", &choose);
																																																																																																																																									if (getchar() != '\n')
																																																																																																																																												{
																																																																																																																																																printf("¿¿¿¿¿¿¿¿¿¿¿¿\n");
																																																																																																																																																				continue;
																																																																																																																																																							}

																																																																																																																																																										if (choose == 1 && strncmp(userInfo, "0000", 4))		//¿¿¿¿
																																																																																																																																																													{
																																																																																																																																																																	userManage(sok);
																																																																																																																																																																				}
																																																																																																																																																																						
																																																																																																																																																																									else if (2 == choose && strncmp(userInfo+ 4, "0000", 4))   //¿¿¿¿
																																																																																																																																																																												{
																																																																																																																																																																																roleManage(sok);
																																																																																																																																																																																			}

																																																																																																																																																																																						else if (3 == choose && strncmp(userInfo + 8, "00", 2))
																																																																																																																																																																																									{
																																																																																																																																																																																													permissionManage(sok);
																																																																																																																																																																																																}
																																																																																																																																																																																																			else if (0 != choose)
																																																																																																																																																																																																						{
																																																																																																																																																																																																										printf("¿¿¿¿¿¿¿¿¿¿¿¿\n");
																																																																																																																																																																																																													}
																																																																																																																																																																																																															}
																																																																																																																																																																																																																}
																																																																																																																																																																																																																	else  //¿¿¿¿¿¿¿¿¿
																																																																																																																																																																																																																		{
																																																																																																																																																																																																																				printf("\n¿¿¿¿¿");
																																																																																																																																																																																																																						Sleep(2000);
																																																																																																																																																																																																																								exit(0);
																																																																																																																																																																																																																									}
																																																																																																																																																																																																																									}


																																																																																																																																																																																																																									////////////////////////////////¿¿¿¿//////////////////////////////////
																																																																																																																																																																																																																									void addUser(SOCKET sockClient)
																																																																																																																																																																																																																									{
																																																																																																																																																																																																																										SOCKET sok = sockClient;
																																																																																																																																																																																																																											userMsg *pUserMsg = (userMsg *)calloc(1, sizeof(userMsg));
																																																																																																																																																																																																																												char *allMsg = (char *)calloc(1024, sizeof(char));

																																																																																																																																																																																																																													logM *pRe = (logM *)calloc(1, sizeof(logM));		
																																																																																																																																																																																																																														//¿¿¿¿¿¿¿¿¿¿¿¿¿headflag[1]=1;¿¿¿¿¿¿¿¿¿¿¿¿¿¿

																																																																																																																																																																																																																															logM *pFromServer = (logM *)calloc(1, sizeof(logM)); //¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿

																																																																																																																																																																																																																																char *pum = NULL;
																																																																																																																																																																																																																																	initUserALLMsgStruct(pUserMsg);

																																																																																																																																																																																																																																		pRe->headFlag[0] = 2;	//¿¿¿¿
																																																																																																																																																																																																																																			pRe->headFlag[1] = 1;	//¿¿¿¿¿¿¿
																																																																																																																																																																																																																																				while (1)
																																																																																																																																																																																																																																					{
																																																																																																																																																																																																																																							printf("\n\n\n\n       ¿¿¿¿¿¿:");
																																																																																																																																																																																																																																									scanf("%s", pUserMsg->userName);
																																																																																																																																																																																																																																											pum = pUserMsg->userName;
																																																																																																																																																																																																																																													if (1 == travUserMesg(pum))
																																																																																																																																																																																																																																															{
																																																																																																																																																																																																																																																		strcat(allMsg, pUserMsg->userName);
																																																																																																																																																																																																																																																					strcat(allMsg, ":");
																																																																																																																																																																																																																																																								break;
																																																																																																																																																																																																																																																										}
																																																																																																																																																																																																																																																												else
																																																																																																																																																																																																																																																														{
																																																																																																																																																																																																																																																																	printf("¿¿¿¿¿¿¿¿¿¿¿¿¿\n");
																																																																																																																																																																																																																																																																			}
																																																																																																																																																																																																																																																																					
																																																																																																																																																																																																																																																																							system("cls");
																																																																																																																																																																																																																																																																								}
																																																																																																																																																																																																																																																																									int index;
																																																																																																																																																																																																																																																																										while (1)
																																																																																																																																																																																																																																																																											{
																																																																																																																																																																																																																																																																													printf("\n\n\n\n       ¿¿¿¿¿:");
																																																																																																																																																																																																																																																																															scanf("%s", pUserMsg->del);
																																																																																																																																																																																																																																																																																	if (strlen(pUserMsg->del) == 11)
																																																																																																																																																																																																																																																																																			{
																																																																																																																																																																																																																																																																																						for (index = 0; index < 11; index++)
																																																																																																																																																																																																																																																																																									{
																																																																																																																																																																																																																																																																																													if (isdigit(pUserMsg->del[index]))
																																																																																																																																																																																																																																																																																																	{
																																																																																																																																																																																																																																																																																																						;
																																																																																																																																																																																																																																																																																																										}
																																																																																																																																																																																																																																																																																																														else
																																																																																																																																																																																																																																																																																																																		{
																																																																																																																																																																																																																																																																																																																							break;
																																																																																																																																																																																																																																																																																																																											}
																																																																																																																																																																																																																																																																																																																														}
																																																																																																																																																																																																																																																																																																																																	if (index == 11)
																																																																																																																																																																																																																																																																																																																																				{
																																																																																																																																																																																																																																																																																																																																								strcat(allMsg, pUserMsg->del);
																																																																																																																																																																																																																																																																																																																																												strcat(allMsg, ":");
																																																																																																																																																																																																																																																																																																																																																break;
																																																																																																																																																																																																																																																																																																																																																			}
																																																																																																																																																																																																																																																																																																																																																						else
																																																																																																																																																																																																																																																																																																																																																									{
																																																																																																																																																																																																																																																																																																																																																													printf("¿¿¿¿¿¿¿¿¿¿¿¿¿\n");
																																																																																																																																																																																																																																																																																																																																																																}
																																																																																																																																																																																																																																																																																																																																																																		}
																																																																																																																																																																																																																																																																																																																																																																				else
																																																																																																																																																																																																																																																																																																																																																																						{
																																																																																																																																																																																																																																																																																																																																																																									printf("¿¿¿¿¿¿¿¿¿¿¿¿¿\n");
																																																																																																																																																																																																																																																																																																																																																																											}
																																																																																																																																																																																																																																																																																																																																																																													
																																																																																																																																																																																																																																																																																																																																																																															system("cls");
																																																																																																																																																																																																																																																																																																																																																																																}
																																																																																																																																																																																																																																																																																																																																																																																	
																																																																																																																																																																																																																																																																																																																																																																																		while (1)
																																																																																																																																																																																																																																																																																																																																																																																			{
																																																																																																																																																																																																																																																																																																																																																																																					printf("\n\n\n\n       ¿¿¿¿¿:");
																																																																																																																																																																																																																																																																																																																																																																																							scanf("%s", pUserMsg->mail);
																																																																																																																																																																																																																																																																																																																																																																																									char *p = strstr(pUserMsg->mail, "@");
																																																																																																																																																																																																																																																																																																																																																																																											if (p)
																																																																																																																																																																																																																																																																																																																																																																																													{
																																																																																																																																																																																																																																																																																																																																																																																																char *tmp = pUserMsg->mail + strlen(pUserMsg->mail) - 4;
																																																																																																																																																																																																																																																																																																																																																																																																			if (strncmp(tmp, ".com", 4) == 0)
																																																																																																																																																																																																																																																																																																																																																																																																						{
																																																																																																																																																																																																																																																																																																																																																																																																										strcat(allMsg, pUserMsg->mail);
																																																																																																																																																																																																																																																																																																																																																																																																														strcat(allMsg, ":");
																																																																																																																																																																																																																																																																																																																																																																																																																		break;
																																																																																																																																																																																																																																																																																																																																																																																																																					}
																																																																																																																																																																																																																																																																																																																																																																																																																							}
																																																																																																																																																																																																																																																																																																																																																																																																																									else
																																																																																																																																																																																																																																																																																																																																																																																																																											{
																																																																																																																																																																																																																																																																																																																																																																																																																														printf("¿¿¿¿¿¿¿¿¿¿¿¿¿\n");
																																																																																																																																																																																																																																																																																																																																																																																																																																}
																																																																																																																																																																																																																																																																																																																																																																																																																																		system("cls");
																																																																																																																																																																																																																																																																																																																																																																																																																																			}
																																																																																																																																																																																																																																																																																																																																																																																																																																				
																																																																																																																																																																																																																																																																																																																																																																																																																																					while (1)
																																																																																																																																																																																																																																																																																																																																																																																																																																						{
																																																																																																																																																																																																																																																																																																																																																																																																																																								printf("\n\n\n\n       ¿¿¿¿¿:");
																																																																																																																																																																																																																																																																																																																																																																																																																																										scanf("%s", pUserMsg->job);
																																																																																																																																																																																																																																																																																																																																																																																																																																												int length = strlen(pUserMsg->job);
																																																																																																																																																																																																																																																																																																																																																																																																																																														if (length > 0 && length < 20)
																																																																																																																																																																																																																																																																																																																																																																																																																																																{
																																																																																																																																																																																																																																																																																																																																																																																																																																																			for (index = 0; index < length; index++)
																																																																																																																																																																																																																																																																																																																																																																																																																																																						{
																																																																																																																																																																																																																																																																																																																																																																																																																																																										if (!isalpha(pUserMsg->job[index]))
																																																																																																																																																																																																																																																																																																																																																																																																																																																														{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																			break;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																							}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																										}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																													if (index == length)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																				strcat(allMsg, pUserMsg->job);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																								strcat(allMsg, ":");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												break;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			else
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																					{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																								printf("¿¿¿¿¿¿¿¿¿¿¿¿¿\n");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																														system("cls");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	/*printf("\n\n\n\n       ¿¿¿¿¿¿:");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		scanf("%s", pUserMsg->createPerson);*/
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																				//¿¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																					strcat(allMsg, userInfo + 10);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																						strcat(allMsg, ":");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							system("cls");

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																								
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										//printf("\n\n\n\n       ¿¿¿¿¿¿¿:");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											//scanf("%s", pUserMsg->createTime);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												//¿¿¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													getSystemTime(pUserMsg->createTime);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																														strcat(allMsg, pUserMsg->createTime);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															strcat(allMsg, ":");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																system("cls");

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	logM *roleList = listExistRole(sok);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		if (getNameOrRoleInput(roleList->userMessage, pUserMsg->role) == 1)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																					strcat(allMsg, pUserMsg->role);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							strcat(allMsg, ":");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																								}

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									char password[10] = { 0 };
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										while (1)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													printf("\n\n\n\n       ¿¿¿¿¿:");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															judgePasswd(password);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	pum = password;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			if (travUserMesg(pum) == 1)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																					{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																								printf("     ¿¿¿¿¿¿¿:");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											judgePasswd(pUserMsg->password);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																														pum = pUserMsg->password;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	if (travUserMesg(pum) == 1)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																				{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																								if (strcmp(password, pUserMsg->password) == 0)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	strcat(allMsg, pUserMsg->password);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																						break;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	//system("cls");

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		strcpy(pRe->userMessage, allMsg);

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			printf("\n¿¿¿¿¿¿¿¿\n¿¿¿¿¿¿¿headFlag[1]:%d\n¿¿¿¿¿%s\n", pRe->headFlag[1], pRe->userMessage);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																				send(sockClient, (char *)pRe, sizeof(*pRe), 0);			//¿¿¿¿

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																					recv(sockClient, (char *)pFromServer, sizeof(*pFromServer), 0);			//¿¿¿¿¿¿¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																						printf("received server :%d %s\n", pFromServer->headFlag[1], pFromServer->userMessage);

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							if (1 == pFromServer->headFlag[1])
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																								{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										printf("¿¿¿¿¿¿!\n");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												else
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															printf("¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿\n");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																}

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	free(pUserMsg);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		free(allMsg);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			free(pRe);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																				free(pFromServer);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																				}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																				void deleteUser(SOCKET sockClient)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																				{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																					SOCKET soc = sockClient;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																						logM *plogM = (logM *)calloc(1, sizeof(logM));		//¿¿¿¿¿¿¿¿¿¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							logM *plogMRe = (logM *)calloc(1, sizeof(logM));	//¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																								logM *nameList = listExistUserName(soc);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									char queryName[20] = { 0 };
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										if (getNameOrRoleInput(nameList->userMessage, queryName) == 1)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													free(nameList);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															strcpy(plogM->userMessage, queryName);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																}

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			plogM->headFlag[0] = 2;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																				plogM->headFlag[1] = 2;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																						send(sockClient, (char *)plogM, sizeof(*plogM), 0);			//¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																								printf("\n¿¿¿¿¿¿¿headFlag[1]:%d %s\n", plogM->headFlag[1], plogM->userMessage);

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										recv(sockClient, (char *)plogMRe, sizeof(*plogMRe), 0);		//¿¿¿¿¿¿¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												printf("received server :%d %s\n", plogMRe->headFlag[1], plogMRe->userMessage);

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																														if (2 == plogMRe->headFlag[1])
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			printf("¿¿¿¿¿\n");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																					}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							else
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												printf("¿¿¿¿¿¿¿¿¿¿¿¿¿\n");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																														}

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															free(plogM);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																free(plogMRe);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																void changeUser(SOCKET sockClient)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	SOCKET soc = sockClient;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		logM *plogM = (logM *)calloc(1, sizeof(logM));		//¿¿¿¿¿¿¿¿¿¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			logM *plogMRe = (logM *)calloc(1, sizeof(logM));	//¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																				userMsg *pUserMsg = (userMsg *)calloc(1, sizeof(userMsg)); //¿¿¿¿¿¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																					char *allMsg = (char *)calloc(1024, sizeof(char));			//¿¿¿¿¿¿¿

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							//¿¿¿¿¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									//¿¿¿¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										logM *nameList = listExistUserName(soc);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											if (getNameOrRoleInput(nameList->userMessage, pUserMsg->userName) == 1)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																														strcat(allMsg, pUserMsg->userName);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																strcat(allMsg, ":");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			////¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																					//char queryName[20] = { 0 };
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							//plogM->headFlag[1] = 3;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									////memset(plogMRe, 0, sizeof(logM));

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											////¿¿¿¿¿¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													//printf("\n\n\n\n       ¿¿¿¿¿¿¿¿¿¿:");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															//scanf("%s", pUserMsg->userName);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			system("cls");

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																					int index;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							while (1)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												printf("\n\n\n\n       ¿¿¿¿¿:");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															scanf("%s", pUserMsg->del);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		if (strlen(pUserMsg->del) == 11)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																					{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									for (index = 0; index < 11; index++)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		if (isdigit(pUserMsg->del[index]))
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							else
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		break;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															if (index == 11)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																								strcat(allMsg, pUserMsg->del);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													strcat(allMsg, ":");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		break;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																						}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										else
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																														{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			printf("¿¿¿¿¿¿¿¿¿¿¿¿¿\n");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													else
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																				printf("¿¿¿¿¿¿¿¿¿¿¿¿¿\n");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							}

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										system("cls");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												}

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																														while (1)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			printf("\n\n\n\n       ¿¿¿¿¿:");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																						scanf("%s", pUserMsg->mail);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									char *p = strstr(pUserMsg->mail, "@");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												if (p)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			char *tmp = pUserMsg->mail + strlen(pUserMsg->mail) - 4;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							if (strncmp(tmp, ".com", 4) == 0)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																strcat(allMsg, pUserMsg->mail);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																					strcat(allMsg, ":");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										break;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																														}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																				else
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											printf("¿¿¿¿¿¿¿¿¿¿¿¿¿\n");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																														}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	system("cls");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			}

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																					while (1)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										printf("\n\n\n\n       ¿¿¿¿¿:");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													scanf("%s", pUserMsg->job);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																int length = strlen(pUserMsg->job);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			if (length > 0 && length < 20)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																						{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										for (index = 0; index < length; index++)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																														{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			if (!isalpha(pUserMsg->job[index]))
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																								{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																														break;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											if (index == length)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																				strcat(allMsg, pUserMsg->job);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									strcat(allMsg, ":");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																														break;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																					}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																								else
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															printf("¿¿¿¿¿¿¿¿¿¿¿¿¿\n");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		}

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																					system("cls");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							}

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									/*printf("\n\n\n\n       ¿¿¿¿¿¿:");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											scanf("%s", pUserMsg->createPerson);

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													strcat(allMsg, pUserMsg->createPerson);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															strcat(allMsg, ":");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	system("cls");

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			printf("\n\n\n\n       ¿¿¿¿¿¿¿:");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																					scanf("%s", pUserMsg->createTime);

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							strcat(allMsg, pUserMsg->createTime);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									strcat(allMsg, ":");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											system("cls");*/

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													logM *roleList = listExistRole(soc);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															char *p, *start;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	while (1)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																						p = start = roleList->userMessage;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									printf("       ¿¿¿¿¿:");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												scanf("%s", pUserMsg->role);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															while (*p)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																						p = strchr(start, ':');
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										if (strncmp(start, pUserMsg->role, p - start) == 0)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																														{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			strcat(allMsg, pUserMsg->role);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																								strcat(allMsg, ":");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													free(roleList);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		//system("cls");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							break;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															p++;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			start = p;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																						}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									if (*p)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																break;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																					}

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							char *pum;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									char password[10] = { 0 };
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											while (1)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																printf("\n\n\n\n       ¿¿¿¿¿:");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			memset(password, 0, sizeof(password));
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																						judgePasswd(password);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									pum = password;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												if (travUserMesg(pum) == 1)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			printf("     ¿¿¿¿¿¿¿:");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							memset(pUserMsg->password, 0, sizeof(pUserMsg->password));
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											judgePasswd(pUserMsg->password);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															pum = pUserMsg->password;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			if (travUserMesg(pum) == 1)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												if (strcmp(password, pUserMsg->password) == 0)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							strcat(allMsg, pUserMsg->password);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													break;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																						}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											}

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													strcpy(plogMRe->userMessage, allMsg);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															plogMRe->headFlag[0] = 2;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	plogMRe->headFlag[1] = 3;

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			send(sockClient, (char *)plogMRe, sizeof(*plogMRe), 0);			//¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																					printf("\n¿¿¿¿¿¿¿headFlag[1]:%d %s\n", plogMRe->headFlag[1], plogMRe->userMessage);

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							recv(sockClient, (char *)plogMRe, sizeof(*plogMRe), 0);		//¿¿¿¿¿¿¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									printf("received server :%d %s\n", plogMRe->headFlag[1], plogMRe->userMessage);

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											if (3 == plogMRe->headFlag[1])
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																printf("¿¿¿¿¿\n");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																				else
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																						{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									printf("¿¿¿¿¿¿¿¿¿¿¿¿¿\n");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											}

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												free(plogM);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													free(plogMRe);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																														free(pUserMsg);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															free(allMsg);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															void queryUser(SOCKET sockClient)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																SOCKET soc = sockClient;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	logM *plogM = (logM *)calloc(1, sizeof(logM));		//¿¿¿¿¿¿¿¿¿¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		logM *plogMRe = (logM *)calloc(1, sizeof(logM));	//¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			logM *nameList = listExistUserName(soc);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																				char queryName[20] = { 0 };
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																					//¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																						if (getNameOrRoleInput(nameList->userMessage, queryName) == 1)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									strcpy(plogM->userMessage, queryName);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											plogM->headFlag[0] = 2;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												plogM->headFlag[1] = 4;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													plogM->headFlag[2] = 2;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																														send(sockClient, (char *)plogM, sizeof(*plogM), 0);	//¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																printf("\n¿¿¿¿¿¿¿headFlag[2]:%d %s\n", plogM->headFlag[2], plogM->userMessage);

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		recv(sockClient, (char *)plogMRe, sizeof(*plogMRe), 0);	//¿¿¿¿¿¿¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																				printf("received server :%d %s\n", plogMRe->headFlag[2], plogMRe->userMessage);

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																						strcat(plogMRe->userMessage, ":");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																								if (2 == plogMRe->headFlag[2])
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													char *oneUserMsg = plogMRe->userMessage;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																char *pOum = oneUserMsg;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			char buf[40] = { 0 };

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																						printf("¿¿¿¿¿¿¿¿:\n");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									while (*oneUserMsg != '\0')
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																if (*oneUserMsg == ':')
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																				{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									strncpy(buf, pOum, oneUserMsg - pOum);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																														buf[oneUserMsg - pOum] = '\0';

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			printf("¿¿¿¿¿¿ %s\n", buf);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																								pOum = pOum + (oneUserMsg - pOum) + 1;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																oneUserMsg++;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																					}

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																						free(plogM);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							free(plogMRe);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							logM *listExistUserName(SOCKET sockClient)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																								SOCKET soc = sockClient;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									logM *plogM = (logM *)calloc(1, sizeof(logM));		//¿¿¿¿¿¿¿¿¿¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										logM *plogMRe = (logM *)calloc(1, sizeof(logM));	//¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											userMsg *pUserMsg = (userMsg *)calloc(1, sizeof(userMsg)); //¿¿¿¿¿¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												char *allMsg = (char *)calloc(1024, sizeof(char));			//¿¿¿¿¿¿¿

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													plogM->headFlag[0] = 2;	//¿¿¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																														plogM->headFlag[1] = 4;	//¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															plogM->headFlag[2] = 1;	//¿¿¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																send(sockClient, (char *)plogM, sizeof(*plogM), 0);			//¿¿¿¿¿¿¿¿

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	recv(sockClient, (char *)plogMRe, sizeof(*plogMRe), 0);		//¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		if (1 == plogMRe->headFlag[2])
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																					//¿¿¿¿¿¿¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							char *allUserName = plogMRe->userMessage;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									char *pAum = allUserName;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											char buf[20] = { 0 };

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													printf("¿¿¿¿¿¿:\n");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															while (*allUserName != '\0')
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																				if (*allUserName == ':')
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											strncpy(buf, pAum, allUserName - pAum);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															buf[allUserName - pAum] = '\0';
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			printf("¿¿¿¿ %s\n", buf);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							pAum = pAum + (allUserName - pAum) + 1;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													allUserName++;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	else
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																				printf("¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿\n");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																					}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																						free(plogM);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							return plogMRe;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							}

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							////////////////////////////////¿¿¿¿////////////////////////////////////
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							void getPrivilege(char *buf, int i)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																								char temp[10];
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									while (1)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												memset(temp, 0, sizeof(buf));
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																														printf("%s", permissionMessg[i]);

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																fgets(temp, 5, stdin);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		if (strlen(temp) == 2 && temp[1] == '\n')
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																				{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							if (temp[0] == '1' || temp[0] == '0')
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																														buf[i] = temp[0];
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		break;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																					}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									printf("¿¿¿¿¿¿¿¿¿¿¿¿¿\n");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											fflush(stdin);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												void addRole(SOCKET sockClient)				//¿¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													SOCKET soc = sockClient;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																														logM *plogM = (logM *)calloc(1, sizeof(logM));		//¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															logM *plogMRe = (logM *)calloc(1, sizeof(logM));	//¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																char roleName[100] = { 0 };		//¿¿¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	char roleNameAndPermission[1024] = { 0 };   //¿¿¿¿¿¿¿¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			if (!soc)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																				{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																						printf("socket error¿");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							}

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																								plogM->headFlag[0] = 3;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									plogM->headFlag[1] = 1;

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										while (1)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													printf("\n¿¿¿¿¿¿¿¿1-10¿¿¿¿¿¿¿¿");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															fgets(roleName, 20, stdin);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	if (strlen(roleName) <= 10 && strlen(roleName) > 0)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																						roleName[strlen(roleName) - 1] = '\0';
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									if (travUserMesg(roleName) == 1)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																break;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																					}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							else
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										printf("¿¿¿¿¿¿¿¿¿¿¿¿¿\n");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												strcat(roleNameAndPermission, roleName);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													strcat(roleNameAndPermission, ":");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																														fflush(stdin);

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															printf("\n¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																printf("\n¿¿1¿¿¿¿¿¿¿¿0¿¿¿¿¿¿¿¿¿\n");

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	int i = 0;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		char buf[15] = { 0 };
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			while (i < 10)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																				{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																						getPrivilege(buf, i);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																								i++;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											strcat(roleNameAndPermission, buf);

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												strcpy(plogM->userMessage, roleNameAndPermission);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													send(sockClient, (char *)plogM, sizeof(*plogM), 0);			//¿¿¿¿¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																														printf("\n¿¿¿¿¿¿¿¿¿\n heafFlag[1]=%d %s", plogMRe->headFlag[1], plogMRe->userMessage);

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															recv(sockClient, (char *)plogMRe, sizeof(*plogMRe), 0);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																printf("¿¿¿¿¿¿¿¿¿¿¿¿\n heafFlag[1]=%d %s", plogMRe->headFlag[1], plogMRe->userMessage);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		if (1 == plogMRe->headFlag[1])
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																					printf("\n¿¿¿¿¿¿¿");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																						}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							else
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																								{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										printf("\n¿¿¿¿¿¿¿");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											}

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												free(plogM);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													free(plogMRe);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													void deleteRole(SOCKET sockClient)			//¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																														SOCKET soc = sockClient;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															logM *plogM = (logM *)calloc(1, sizeof(logM));		//¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																logM *plogMRe = (logM *)calloc(1, sizeof(logM));	//¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	char roleName[100] = { 0 };

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		if (!soc)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																					printf("socket error¿");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																						}

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							plogM->headFlag[0] = 3;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																								plogM->headFlag[1] = 2;

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									logM *roleList = listExistRole(soc);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										if (getNameOrRoleInput(roleList->userMessage, roleName) == 1)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													strcat(plogM->userMessage, roleName);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																														}


																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															send(sockClient, (char *)plogM, sizeof(*plogM), 0);			//¿¿¿¿¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																printf("\n¿¿¿¿¿¿¿\n heafFlag[1]=%d   %s", plogMRe->headFlag[1], plogMRe->userMessage);

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	recv(sockClient, (char *)plogMRe, sizeof(*plogMRe), 0);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		printf("\n¿¿¿¿¿¿\n heafFlag[1]=%d   %s", plogMRe->headFlag[1], plogMRe->userMessage);

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			if (2 == plogMRe->headFlag[1])
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																				{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																						printf("\n¿¿¿¿¿\n");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																								else
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											printf("\n¿¿¿¿¿\n");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												void changeRole(SOCKET sockClient)			//¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													SOCKET soc = sockClient;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																														logM *plogM = (logM *)calloc(1, sizeof(logM));		//¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															logM *plogMRe = (logM *)calloc(1, sizeof(logM));	//¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																char roleName[100] = { 0 };		//¿¿¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	char roleNameAndPermission[1024] = { 0 };   //¿¿¿¿¿¿¿¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		char changeName[200] = { 0 };

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			//¿¿¿¿¿¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																				plogM->headFlag[0] = 3;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																					plogM->headFlag[1] = 3;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																						memset(plogMRe, 0, sizeof(logM));

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							logM *roleList = listExistRole(soc);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																								if (getNameOrRoleInput(roleList->userMessage, roleName) == 1)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											strcat(roleNameAndPermission, roleName);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													strcat(roleNameAndPermission, ":");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																														}

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															fflush(stdin);

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																printf("\n¿¿¿¿¿¿¿¿¿¿¿\n");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	printf("\n¿¿1¿¿¿¿¿¿¿¿0¿¿¿¿¿¿¿¿¿\n");

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		int i = 0;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			char buf[15] = { 0 };
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																				while (i < 10)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																					{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							getPrivilege(buf, i);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									i++;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										}

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											strcat(roleNameAndPermission, buf);

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												strcpy(plogM->userMessage, roleNameAndPermission);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													send(sockClient, (char *)plogM, sizeof(*plogM), 0);			//¿¿¿¿¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																														printf("\n¿¿¿¿¿¿¿¿¿\n heafFlag[1]=%d %s", plogMRe->headFlag[1], plogMRe->userMessage);

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															recv(sockClient, (char *)plogMRe, sizeof(*plogMRe), 0);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																printf("¿¿¿¿¿¿¿¿¿¿¿¿\n heafFlag[1]=%d %s", plogMRe->headFlag[1], plogMRe->userMessage);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	strcpy(userInfo, plogMRe->userMessage);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		if (3 == plogMRe->headFlag[1])
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																					printf("\n¿¿¿¿¿¿¿\n");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																						}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							else
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																								{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										printf("\n¿¿¿¿¿¿¿\n");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											}

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												free(plogM);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													free(plogMRe);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													void queryRole(SOCKET sockClient)			//¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																														SOCKET soc = sockClient;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															logM *plogM = (logM *)calloc(1, sizeof(logM));		//¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																logM *plogMRe = (logM *)calloc(1, sizeof(logM));	//¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			//¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																				char queryName[200] = { 0 };

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																					plogM->headFlag[0] = 3;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																						plogM->headFlag[1] = 4;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							plogM->headFlag[2] = 2;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																								memset(plogMRe, 0, sizeof(logM));

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									logM *roleList = listExistRole(soc);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										if (getNameOrRoleInput(roleList->userMessage, queryName) == 1)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													strcpy(plogM->userMessage, queryName);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																														}

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															send(sockClient, (char *)plogM, sizeof(*plogM), 0);			//¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																printf("\n¿¿¿¿¿¿¿headFlag[2]:%d %s\n", plogM->headFlag[2], plogM->userMessage);

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	recv(sockClient, (char *)plogMRe, sizeof(*plogMRe), 0);		//¿¿¿¿¿¿¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		printf("received server :%d %s\n", plogMRe->headFlag[2], plogMRe->userMessage);

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			strcat(plogMRe->userMessage, ":");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																				if (2 == plogMRe->headFlag[2])
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																					{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							char *oneRolePermission = plogMRe->userMessage;

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									printf("¿¿¿¿¿¿:\n");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											for (int i = 0; oneRolePermission[i] != ':'; i++)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																if (oneRolePermission[i] == '1')
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							printf("%s\n", permissionMessg[i]);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										}	
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																														else
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	printf("\n¿¿¿¿¿\n");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																				free(plogM);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																					free(plogMRe);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																					}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																					logM *listExistRole(SOCKET sockClient)		//¿¿¿¿¿¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																					{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																						SOCKET soc = sockClient;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							logM *plogM = (logM *)calloc(1, sizeof(logM));		//¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																								logM *plogMRe = (logM *)calloc(1, sizeof(logM));	//¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									if (!soc)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												printf("socket error¿");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																														plogM->headFlag[0] = 3;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															plogM->headFlag[1] = 4;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																plogM->headFlag[2] = 1;

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	send(sockClient, (char *)plogM, sizeof(*plogM), 0);			//¿¿¿¿¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		printf("\n¿¿¿¿¿¿¿¿\n heafFlag[1]=%d\n", plogMRe->headFlag[2]);

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			recv(sockClient, (char *)plogMRe, sizeof(*plogMRe), 0);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																				printf("\n¿¿¿¿¿¿\n heafFlag[1]=%d\n", plogMRe->headFlag[2]);

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																					if (1 == plogMRe->headFlag[2])			//¿¿¿¿¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																						{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																								//¿¿¿¿¿¿¿¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										char *allRoleName = plogMRe->userMessage;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												char *pArn = allRoleName;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																														char buf[20] = { 0 };		//¿¿¿¿¿¿¿¿

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																printf("¿¿¿¿¿¿:\n");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		while (*allRoleName != '\0')
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																				{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							if (*allRoleName == ':')
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																														strncpy(buf, pArn, allRoleName - pArn);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		buf[allRoleName - pArn] = '\0';
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																						printf("¿¿¿¿ %s\n", buf);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										//memset(buf, 0, sizeof(buf));
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																														pArn = pArn + (allRoleName - pArn) + 1;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																				allRoleName++;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																						}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																								else
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											printf("\n¿¿¿¿¿¿¿¿¿¿¿");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												}

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													free(plogM);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																														//free(plogMRe);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															return plogMRe;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															}

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															////////////////////////////////¿¿¿¿////////////////////////////////////
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															void changePermission(SOCKET sockClient)			//¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																SOCKET soc = sockClient;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	logM *plogM = (logM *)calloc(1, sizeof(logM));		//¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		logM *plogMRe = (logM *)calloc(1, sizeof(logM));	//¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			if (!soc)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																				{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																						printf("socket error¿");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										char permissionNum[20] = { 0 };
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											printf("¿¿¿¿¿¿¿¿:\n");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												listExistPermission();


																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													printf("\n\n\n¿¿¿¿¿¿¿¿:\n");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																														queryPermission(soc);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															int i = 0;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																while (i < 10)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			getPrivilege(permissionNum, i);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																					i++;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																						}

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							plogM->headFlag[0] = 4;	//¿¿¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																								plogM->headFlag[1] = 1;	//¿¿¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									strcpy(plogM->userMessage, permissionNum);

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										send(sockClient, (char *)plogM, sizeof(*plogM), 0);			//¿¿¿¿¿¿¿¿

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											recv(sockClient, (char *)plogMRe, sizeof(*plogMRe), 0);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												printf("¿¿¿¿¿¿¿¿¿¿¿¿\n heafFlag[1]=%d %s", plogMRe->headFlag[1], plogMRe->userMessage);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													strcpy(userInfo, plogMRe->userMessage);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																														if (1 == plogMRe->headFlag[1])
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	printf("¿¿¿¿¿\n");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			else
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																				{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																						printf("¿¿¿¿¿\n");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							}

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																								free(plogM);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									free(plogMRe);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									void queryPermission(SOCKET sockClient)				//¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										SOCKET soc = sockClient;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											logM *plogM = (logM *)calloc(1, sizeof(logM));		//¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												logM *plogMRe = (logM *)calloc(1, sizeof(logM));	//¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿¿


																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													if (!soc)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																														{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																printf("socket error¿");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		plogM->headFlag[0] = 4;	//¿¿¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			plogM->headFlag[1] = 2;	//¿¿¿¿¿¿

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																				send(sockClient, (char *)plogM, sizeof(*plogM), 0);			//¿¿¿¿¿¿¿¿

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																					recv(sockClient, (char *)plogMRe, sizeof(*plogMRe), 0);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																						printf("¿¿¿¿¿¿¿¿¿¿¿¿heafFlag[1]=%d %s", plogMRe->headFlag[1], plogMRe->userMessage);

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							if (2 == plogMRe->headFlag[1])
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																								{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										//¿¿¿¿¿¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												char *pAp = plogMRe->userMessage;  //¿0 1¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																														int len = strlen(pAp);


																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																printf("¿¿¿¿¿¿:\n");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		for (int i = 0; i < len; i++)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																				{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							if (pAp[i] != '0')
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																														printf("%s\n", permissionMessg[i]);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																				}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																					else
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																						{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																								printf("¿¿¿¿¿\n");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									}

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										free(plogM);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											free(plogMRe);

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											void listExistPermission()			//¿¿¿¿¿¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												for (int i = 0; i < 10; i++)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															printf("%s\n", permissionMessg[i]);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																}

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																//////////////////////////////////////////////////////////////////////////////
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																void judgePasswd(char *password)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	char c;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		int a = 0;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			for (int i = 0; i < 100; i++)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																				{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																						c = _getch();
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																								if (c == 13)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													break;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	if ((c <= 90 && c >= 65) || (c >= 97 && c <= 122) || (c >= 48 && c <= 57))
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																						printf("*");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									password[i] = c;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													while (c == 8 && i > 0)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		printf("\b \b");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																					i--;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																								c = _getch();
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											a++;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															while (a >= 1)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																				c = _getch();
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							if ((c <= 90 && c >= 65) || (c >= 97 && c <= 122) || (c >= 48 && c <= 57))
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																														printf("*");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		password[i] = c;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																						a--;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										if (a < 1)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																														{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			i--;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											i++;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																														}	
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	void userManage(SOCKET sockClient)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		SOCKET sok = sockClient;

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			int chooseU = -1;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																				while (chooseU)		//¿¿¿¿¿¿ ¿4¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																					{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							userManageMenu();
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									printf("\n¿¿¿¿¿:");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											scanf("%d", &chooseU);

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													if (getchar() != '\n')  //¿¿1A  ¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		printf("¿¿¿¿¿¿¿¿¿¿¿¿\n");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																					continue;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							}

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									if (chooseU == 1 && userInfo[0] == '1')		//¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																														printf("¿¿¿¿¿¿¿¿¿¿");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	userAllMessageMenu();
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																				addUser(sok);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																						}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																								else if (2 == chooseU && userInfo[1] == '1')	//¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													deleteUser(sok);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	else if (3 == chooseU && userInfo[2] == '1')	//¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																						changeUser(sok);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																								}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										else if (4 == chooseU && userInfo[3] == '1')	//¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															printf("¿¿¿¿¿\n");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		queryUser(sok);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																					printf("¿¿¿¿¿¿\n");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									else if (0 != chooseU)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																														printf("¿¿¿¿¿¿¿¿¿¿¿¿¿\n");

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	void roleManage(SOCKET sockClient)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		SOCKET sok = sockClient;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			int chooseR = -1;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																				fflush(stdin);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																					while (chooseR)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																						{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																								printf("¿¿¿¿¿¿¿\n");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										roleManageMenu();
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												printf("\n¿¿¿¿¿:");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																														scanf("%d", &chooseR);

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																if (getchar() != '\n')  //¿¿1A  ¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																					printf("¿¿¿¿¿¿¿¿¿¿¿¿\n");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																								continue;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										}

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												if (chooseR == 1 && userInfo[4] == '1')		//¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																														{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	printf("\n¿¿¿¿¿¿¿¿¿¿");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																				addRole(sok);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																						}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																								else if (2 == chooseR && userInfo[5] == '1')	//¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													deleteRole(sok);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	else if (3 == chooseR && userInfo[6] == '1')	//¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																						changeRole(sok);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																								}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										else if (4 == chooseR && userInfo[7] == '1')	//¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															queryRole(sok);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			else if (0 != chooseR)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																					{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																								printf("¿¿¿¿¿¿¿¿¿¿¿¿¿\n");

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											void permissionManage(SOCKET sockClient)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												SOCKET sok = sockClient;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													int chooseP = -1;

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																														while (chooseP)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	printf("¿¿¿¿¿¿¿\n");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			permissionManageMenu();
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																					fflush(stdin);

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							printf("\n¿¿¿¿¿:");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									scanf("%d", &chooseP);

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											if (getchar() != '\n')  //¿¿1A  ¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																printf("¿¿¿¿¿¿¿¿¿¿¿¿\n");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			continue;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																					}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							if (chooseP == 1 && userInfo[8] == '1')		//¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												printf("¿¿¿¿¿");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															changePermission(sok);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	}

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			else if (2 == chooseP && userInfo[9] == '1')	//¿¿¿¿
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																					{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																								printf("¿¿¿¿¿\n");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											queryPermission(sok);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																														printf("¿¿¿¿¿¿\n");

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		else if (0 != chooseP)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																				{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							printf("¿¿¿¿¿¿¿¿¿¿¿¿¿\n");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										}

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										void getSystemTime(char *str)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											time_t nowtime;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																												struct tm *timeinfo;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													time(&nowtime);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																														timeinfo = localtime(&nowtime);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															int year, month, day;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																year = timeinfo->tm_year + 1900;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	month = timeinfo->tm_mon + 1;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																		day = timeinfo->tm_mday;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			sprintf(str, "%d-%d-%d", year, month, day);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			}

																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			int getNameOrRoleInput(char *list, char *msg)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																			{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																				char *p, *start;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																					char buf[20];
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																						while (1)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																									p = start = list;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																											printf("       ¿¿¿¿¿¿¿¿¿¿¿:");
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													scanf("%s", msg);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															while (*p)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																	{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																				memset(buf, 0, sizeof(buf));
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							p = strchr(start, ':');
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										strncpy(buf, start, p - start);
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													if (strcmp(buf, msg) == 0)
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																{
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																				return 1;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																							}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																										p++;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																													start = p;
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																															}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																}
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																}
>>>>>>> dev
